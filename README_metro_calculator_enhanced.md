# 上海地铁通勤计算器 - 增强版

## 🎯 项目概述

这是一个增强版的上海地铁通勤时间计算器，集成了Python版本的Dijkstra算法逻辑到React前端应用中。

## ✨ 主要功能

### 1. 智能路线规划
- **同线路检测**：自动识别起始站和终点站是否在同一条线路上
- **换乘计算**：计算换乘次数和换乘时间（每次换乘+5分钟）
- **路线摘要**：生成人类可读的路线描述

### 2. 精确时间计算
- **站点间时间**：每站3分钟
- **换乘时间**：每次换乘5分钟
- **总时间**：站点间时间 + 换乘时间

### 3. 换乘信息展示
- **换乘站点**：显示具体的换乘站点名称
- **线路信息**：显示换乘前后的线路名称
- **换乘次数**：统计总换乘次数

## 🏗️ 技术架构

### 前端组件
- **MetroDistanceCalculator**：主要的计算器组件
- **站点选择器**：支持搜索和下拉选择的站点选择
- **结果展示**：详细显示通勤信息、换乘详情和路线摘要

### 核心算法
- **线路数据**：基于Python版本的18条地铁线路数据
- **换乘映射**：自动构建换乘站点和线路映射关系
- **智能计算**：模拟Dijkstra算法的路线规划逻辑

## 📱 用户界面

### 主要区域
1. **站点选择区域**
   - 起始站点选择器
   - 终点站点选择器
   - 计算按钮
   - 测试按钮（莘庄→人民广场）

2. **通勤信息展示**
   - 路线信息（起始站→终点站）
   - 通勤时间（分钟/小时）
   - 站点数量
   - 换乘次数
   - 相对距离
   - 路线摘要
   - 换乘详情
   - 站点信息

3. **站点列表**
   - 所有可用站点的快速选择

## 🚀 使用方法

### 基本使用
1. 在起始站点选择器中选择起始站
2. 在终点站点选择器中选择终点站
3. 点击"计算通勤时间"按钮
4. 查看计算结果和路线信息

### 测试功能
点击"测试：莘庄 → 人民广场"按钮可以快速测试计算器功能

## 🔧 技术特性

### 数据结构
- **MetroStation**：站点信息接口
- **MetroLine**：线路信息接口
- **TransferInfo**：换乘信息接口
- **DistanceResult**：计算结果接口

### 核心函数
- `calculateMetroCommute()`：主要的通勤计算函数
- `getStationLine()`：获取站点所属线路
- `calculateDistance()`：计算站点间距离
- `calculateCommuteTime()`：计算通勤时间
- `calculateStationCount()`：计算站点数量

## 📊 数据来源

### 地铁线路
- 1号线：莘庄 → 富锦路
- 2号线：国家会展中心 → 浦东1号2号航站楼
- 3号线：上海南站 → 江杨北路
- 4号线：宜山路 → 上海体育馆
- 5号线：莘庄 → 闵行开发区
- 6号线：东方体育中心 → 港城路
- 7号线：美兰湖 → 花木路
- 8号线：沈杜公路 → 市光路
- 9号线：上海松江站 → 曹路
- 10号线：航中路 → 基隆路
- 11号线：花桥 → 迪士尼
- 12号线：七莘路 → 金海路
- 13号线：金运路 → 张江路
- 14号线：封浜 → 桂桥路
- 15号线：紫竹高新区 → 顾村公园
- 16号线：龙阳路 → 滴水湖
- 17号线：虹桥火车站 → 西岑
- 18号线：航头 → 长江南路

## 🎨 样式特性

### CSS类名
- `.metro-distance-calculator`：主容器样式
- `.calculator-container`：计算器容器
- `.station-selection-card`：站点选择卡片
- `.result-card`：结果展示卡片
- `.transfer-details`：换乘详情样式
- `.route-summary`：路线摘要样式

### 响应式设计
- 支持移动端和桌面端
- 自适应布局
- 触摸友好的交互

## 🔍 故障排除

### 常见问题
1. **站点未找到**：检查站点名称是否正确
2. **计算失败**：确保起始站和终点站都已选择
3. **换乘信息缺失**：可能是站点不在已知线路上

### 调试信息
- 控制台会输出详细的站点和线路信息
- 可以查看`STATION_TO_LINES`映射关系

## 🚧 开发计划

### 短期目标
- [x] 集成Python版本的线路数据
- [x] 实现换乘检测和计算
- [x] 添加路线摘要功能
- [x] 优化用户界面

### 长期目标
- [ ] 实现真正的Dijkstra算法
- [ ] 添加多条路线选择
- [ ] 集成实时地铁信息
- [ ] 支持离线使用

## 📝 更新日志

### v2.0.0 (当前版本)
- 集成Python版本的线路数据
- 添加换乘信息计算
- 实现路线摘要生成
- 优化用户界面和样式

### v1.0.0
- 基础的地铁距离计算功能
- 简单的站点选择器
- 基础的结果展示

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用开源许可证，可自由使用和修改。
