# Banner页面类型功能使用指南

## 功能概述

本次更新为banner系统添加了页面类型支持，允许为不同页面创建和管理独立的banner资源，并使用3x精度压缩确保高质量显示。

## 数据库变更

### 新增字段
- `page_type`: VARCHAR(50) - 页面类型标识
- 默认值: 'home'
- 约束: 只允许 'home', 'live_stream_registration', 'other' 三个值

### 索引优化
- 为 `page_type` 字段创建了索引以提高查询性能

## 功能特性

### 1. 资源位管理页面增强
- 添加了页面类型选择标签页
- 支持按页面类型筛选和管理banner
- 创建/编辑banner时可选择目标页面类型
- 使用3x精度压缩，确保高分辨率显示效果

### 2. LiveStreamRegistration 页面
- 在标题下方添加了banner显示区域
- 自动加载并显示 `live_stream_registration` 类型的banner
- 支持轮播显示（多个banner时）
- 支持点击跳转功能

### 3. 页面类型支持
- **首页轮播图** (`home`): 首页顶部轮播图展示，3x精度5760x1500
- **直播报名页** (`live_stream_registration`): 直播报名页面顶部banner，3x精度5760x600
- **其他页面** (`other`): 其他页面的banner，3x精度5760x1500

## 使用方法

### 管理Banner
1. 进入资源位管理页面
2. 选择对应的页面类型标签页
3. 点击"新建轮播图"创建banner
4. 选择页面类型、上传图片、设置跳转等
5. 保存后即可在对应页面看到效果

### 在直播报名页查看
1. 进入直播报名页面
2. 在标题下方会自动显示对应的banner
3. 如果有多个banner会自动轮播
4. 点击banner可触发跳转（如果设置了跳转目标）

## 技术实现

### API 更新
- `fetchBannersByPageType(pageType: string)`: 按页面类型获取banner
- 支持筛选活跃状态的banner并按排序字段排序

### 组件更新
- `资源位管理`: 添加标签页和页面类型选择
- `LiveStreamRegistration`: 添加banner显示组件

### 样式特性
- **首页banner比例**: 3.84:1 (3x精度5760x1500)
- **直播报名页banner比例**: 9.6:1 (3x精度5760x600)
- 自动轮播间隔: 3秒
- 支持指示器点击切换
- 响应式设计
- 3x精度压缩，确保高分辨率显示

## 部署说明

运行部署脚本：
```bash
./deploy-banner-page-type.sh
```

## 注意事项

1. 现有banner数据会自动设置为 `home` 类型
2. 不同页面类型有不同的3x精度尺寸：
   - 首页: 5760x1500 (3.84:1)
   - 直播报名页: 5760x600 (9.6:1)
3. 上传时会自动进行3x精度压缩和裁剪
4. 建议为不同页面类型设置不同的banner内容
5. 跳转功能支持外链、站内路由和iframe三种方式
6. 3x精度确保在高分辨率设备上的显示效果 