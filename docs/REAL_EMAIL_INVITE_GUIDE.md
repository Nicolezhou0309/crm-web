# çœŸå®é‚®ç®±é‚€è¯·æŒ‡å—

## ğŸ” é—®é¢˜åˆ†æ

ä½¿ç”¨çœŸå®ç”¨æˆ·é‚®ç®±è¿›è¡Œé‚€è¯·æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š

### 1. Resendå¼€å‘ç¯å¢ƒé™åˆ¶

#### ğŸ“§ éªŒè¯é‚®ç®±è¦æ±‚
- **å¼€å‘ç¯å¢ƒ**ï¼šåªèƒ½å‘é€åˆ°å·²éªŒè¯çš„é‚®ç®±åœ°å€
- **ç”Ÿäº§ç¯å¢ƒ**ï¼šå¯ä»¥å‘é€åˆ°ä»»ä½•é‚®ç®±åœ°å€
- **å½“å‰çŠ¶æ€**ï¼šé¡¹ç›®å¤„äºå¼€å‘ç¯å¢ƒ

#### âœ… å·²éªŒè¯çš„é‚®ç®±
- `zhoulingxin0309@gmail.com` - å·²éªŒè¯
- `delivered@resend.dev` - æµ‹è¯•é‚®ç®±
- å…¶ä»–åœ¨Resendæ§åˆ¶å°ä¸­éªŒè¯è¿‡çš„é‚®ç®±

#### âŒ æœªéªŒè¯çš„é‚®ç®±
- ä»»ä½•æœªåœ¨Resendæ§åˆ¶å°ä¸­éªŒè¯çš„é‚®ç®±
- æ–°æ·»åŠ çš„é‚®ç®±åœ°å€
- ä¸´æ—¶é‚®ç®±åœ°å€

### 2. å¯èƒ½çš„é”™è¯¯æƒ…å†µ

#### ğŸ”´ 500é”™è¯¯ - é‚®ç®±æœªéªŒè¯
```
é”™è¯¯ä¿¡æ¯ï¼šInvalid `to` field. Please use our testing email address instead of domains like `example.com`.
```

#### ğŸ”´ 400é”™è¯¯ - é‚®ç®±æ ¼å¼é—®é¢˜
```
é”™è¯¯ä¿¡æ¯ï¼šInvalid email format
```

#### ğŸ”´ 422é”™è¯¯ - åŸŸåé™åˆ¶
```
é”™è¯¯ä¿¡æ¯ï¼šDomain not allowed in development mode
```

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

### 1. ç«‹å³è§£å†³æ–¹æ¡ˆ

#### ğŸ“§ ä½¿ç”¨å·²éªŒè¯é‚®ç®±æµ‹è¯•
```javascript
// ä½¿ç”¨å·²éªŒè¯çš„é‚®ç®±è¿›è¡Œæµ‹è¯•
const verifiedEmails = [
  'zhoulingxin0309@gmail.com',
  'delivered@resend.dev'
];
```

#### ğŸ”§ ä¸´æ—¶é‚€è¯·æ–¹æ¡ˆ
1. **ä½¿ç”¨å·²éªŒè¯é‚®ç®±**ï¼šå…ˆç”¨å·²éªŒè¯é‚®ç®±æµ‹è¯•åŠŸèƒ½
2. **æ‰‹åŠ¨é‚€è¯·**ï¼šé€šè¿‡å…¶ä»–æ–¹å¼å‘é€é‚€è¯·é“¾æ¥
3. **å‡çº§åˆ°ç”Ÿäº§ç¯å¢ƒ**ï¼šé…ç½®è‡ªå®šä¹‰åŸŸå

### 2. é•¿æœŸè§£å†³æ–¹æ¡ˆ

#### ğŸŒ é…ç½®è‡ªå®šä¹‰åŸŸå
1. **è´­ä¹°åŸŸå**ï¼šå¦‚ `yourcompany.com`
2. **é…ç½®DNSè®°å½•**ï¼š
   ```
   TXT: v=spf1 include:_spf.resend.com ~all
   TXT: resend-verification=your-verification-code
   ```
3. **åœ¨Resendä¸­éªŒè¯åŸŸå**
4. **æ›´æ–°å‘ä»¶äººåœ°å€**ï¼šä½¿ç”¨ `noreply@yourcompany.com`

#### ğŸ”„ å‡çº§åˆ°ç”Ÿäº§ç¯å¢ƒ
1. **é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡**
2. **éªŒè¯æ‰€æœ‰å¿…è¦çš„é‚®ç®±**
3. **è®¾ç½®é‚®ä»¶æ¨¡æ¿**
4. **æµ‹è¯•é‚®ä»¶å‘é€**

### 3. ä¸´æ—¶å·¥ä½œæµç¨‹

#### ğŸ“± æ‰‹åŠ¨é‚€è¯·æµç¨‹
1. **ç”Ÿæˆé‚€è¯·é“¾æ¥**ï¼š
   ```javascript
   const inviteUrl = `${FRONTEND_URL}/set-password?token=${inviteToken}`;
   ```

2. **é€šè¿‡å…¶ä»–æ–¹å¼å‘é€**ï¼š
   - å¾®ä¿¡/QQæ¶ˆæ¯
   - çŸ­ä¿¡é€šçŸ¥
   - ç”µè¯é‚€è¯·
   - é¢å¯¹é¢åˆ†äº«

3. **ç”¨æˆ·æ³¨å†Œæµç¨‹**ï¼š
   - ç”¨æˆ·ç‚¹å‡»é‚€è¯·é“¾æ¥
   - è®¾ç½®å¯†ç 
   - å®Œå–„ä¸ªäººä¿¡æ¯

#### ğŸ”— ç›´æ¥é“¾æ¥åˆ†äº«
```javascript
// ç”Ÿæˆé‚€è¯·é“¾æ¥
const generateInviteLink = (email, organizationId) => {
  const baseUrl = 'https://crm-web-ncioles-projects.vercel.app/set-password';
  const params = new URLSearchParams({
    email: email,
    org: organizationId,
    invite: 'true'
  });
  return `${baseUrl}?${params.toString()}`;
};
```

## ğŸ“‹ å®æ–½æ­¥éª¤

### 1. ç«‹å³è¡ŒåŠ¨
- [ ] ä½¿ç”¨å·²éªŒè¯é‚®ç®±æµ‹è¯•é‚€è¯·åŠŸèƒ½
- [ ] æ£€æŸ¥å½“å‰é‚®ç®±æ˜¯å¦å·²éªŒè¯
- [ ] å‡†å¤‡æ‰‹åŠ¨é‚€è¯·æµç¨‹

### 2. çŸ­æœŸè®¡åˆ’
- [ ] é…ç½®è‡ªå®šä¹‰åŸŸå
- [ ] éªŒè¯ç”Ÿäº§ç¯å¢ƒè®¾ç½®
- [ ] æµ‹è¯•é‚®ä»¶å‘é€

### 3. é•¿æœŸè®¡åˆ’
- [ ] å®Œå–„é‚®ä»¶æ¨¡æ¿
- [ ] è®¾ç½®é‚®ä»¶ç›‘æ§
- [ ] ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

## ğŸ¯ æµ‹è¯•å»ºè®®

### 1. ä½¿ç”¨å·²éªŒè¯é‚®ç®±
```javascript
// æµ‹è¯•é‚€è¯·åŠŸèƒ½
const testEmail = 'zhoulingxin0309@gmail.com';
const testName = 'æµ‹è¯•ç”¨æˆ·';
```

### 2. æ£€æŸ¥é‚®ç®±éªŒè¯çŠ¶æ€
```javascript
// æ£€æŸ¥é‚®ç®±æ˜¯å¦å·²éªŒè¯
const checkEmailVerification = async (email) => {
  // åœ¨Resendæ§åˆ¶å°ä¸­æ£€æŸ¥
  console.log('è¯·åœ¨Resendæ§åˆ¶å°ä¸­æ£€æŸ¥é‚®ç®±éªŒè¯çŠ¶æ€');
};
```

### 3. å¤‡ç”¨é‚€è¯·æ–¹å¼
```javascript
// ç”Ÿæˆé‚€è¯·é“¾æ¥
const inviteLink = generateInviteLink(email, organizationId);
console.log('é‚€è¯·é“¾æ¥:', inviteLink);
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### 1. Resendæ”¯æŒ
- [Resendæ–‡æ¡£](https://resend.com/docs)
- [é‚®ç®±éªŒè¯æŒ‡å—](https://resend.com/docs/domains)
- [å¼€å‘ç¯å¢ƒé™åˆ¶](https://resend.com/docs/development)

### 2. å¸¸è§é—®é¢˜
1. **é‚®ç®±æœªéªŒè¯**ï¼šåœ¨Resendæ§åˆ¶å°ä¸­éªŒè¯é‚®ç®±
2. **åŸŸåé™åˆ¶**ï¼šé…ç½®è‡ªå®šä¹‰åŸŸå
3. **å‘é€å¤±è´¥**ï¼šæ£€æŸ¥APIå¯†é’¥å’Œé…ç½®

### 3. è”ç³»æ”¯æŒ
å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼š
1. æ”¶é›†é”™è¯¯æ—¥å¿—
2. è®°å½•é‚®ç®±åœ°å€
3. è”ç³»ResendæŠ€æœ¯æ”¯æŒ

## ğŸ“š ç›¸å…³èµ„æº

- [Resendé‚®ç®±éªŒè¯](https://resend.com/docs/domains)
- [Supabase Edge Functions](https://supabase.com/docs/guides/functions)
- [é‚®ä»¶å‘é€æœ€ä½³å®è·µ](https://resend.com/docs/best-practices)
- [å¼€å‘ç¯å¢ƒé…ç½®](https://resend.com/docs/development) 