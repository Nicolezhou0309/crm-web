# Serverless CD 配置文件
# 适用于阿里云函数计算

service: crm-frontend
provider: aliyun

functions:
  crm-frontend-app:
    handler: index.handler
    runtime: nodejs18
    memorySize: 1024
    timeout: 60
    environment:
      VITE_SUPABASE_URL: 'http://47.123.26.25:8000'
      VITE_SUPABASE_ANON_KEY: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiYW5vbiIsInJlZiI6InNicC04b2gxOG0wM2hiYjA4N3RhIiwiaXNzIjoic3VwYWJhc2UiLCJpYXQiOjE3NTU0MjI4MjEsImV4cCI6MjA3MDk5ODgyMX0.TMNhVSwNgrJHxRKQnV-GVzX_EovIQ6EIg2vXdQEWRgE'
      VITE_APP_ENV: 'production'
      NODE_ENV: 'production'
    events:
      - http:
          path: /{proxy+}
          method: ANY
          cors: true
